<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a festive look */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fce4ec 0%, #e0f2f7 100%); /* Soft gradient background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Full viewport height */
            margin: 0;
            overflow: hidden; /* Hide overflow from confetti */
        }
        .card-container {
            background-color: #ffffff;
            padding: 2.5rem;
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); /* Stronger shadow */
            text-align: center;
            max-width: 600px;
            width: 90%; /* Responsive width */
            position: relative;
            z-index: 10; /* Ensure card is above confetti */
            animation: fadeInScale 1s ease-out forwards;
        }
        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .header-text {
            color: #e91e63; /* Pink for main heading */
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .message-text {
            color: #333333;
            font-size: 1.25rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }
        .signature-text {
            color: #666666;
            font-size: 1rem;
            font-style: italic;
            margin-top: 2rem;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffeb3b; /* Yellow */
            border-radius: 50%;
            opacity: 0;
            animation: confettiFall 5s infinite;
        }
        .confetti:nth-child(2n) { background-color: #4fc3f7; /* Blue */ }
        .confetti:nth-child(3n) { background-color: #8bc34a; /* Green */ }
        .confetti:nth-child(4n) { background-color: #ff9800; /* Orange */ }
        .confetti:nth-child(5n) { background-color: #e91e63; /* Pink */ }

        /* Confetti animation */
        @keyframes confettiFall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Styles for the message generation section */
        .message-generation-section {
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e0e0e0;
            text-align: left; /* Align text within this section to left */
        }
        .message-generation-section label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }
        .message-generation-section input[type="text"],
        .message-generation-section textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.5rem;
            min-height: 40px; /* For input */
            resize: vertical;
            font-size: 1rem;
            margin-bottom: 1rem; /* Spacing between inputs */
        }
        .message-generation-section textarea {
            min-height: 80px;
        }
        .message-generation-section button {
            background: linear-gradient(45deg, #f06292, #e91e63); /* Pink gradient button */
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 0.5rem; /* Adjusted for input fields */
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
        }
        .message-generation-section button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(233, 30, 99, 0.4);
        }
        .message-generation-section button#resetButton {
            background: linear-gradient(45deg, #607d8b, #455a64); /* Grey gradient for reset */
            margin-left: 1rem;
        }
        .message-generation-section button#resetButton:hover {
            box-shadow: 0 6px 15px rgba(69, 90, 100, 0.4);
        }
        .generated-message-output { /* Renamed from .generated-message to avoid conflict with default message style */
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #f9f9f9;
            border: 1px dashed #e91e63;
            border-radius: 0.75rem;
            font-style: italic;
            color: #555;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center; /* Center the generated text */
        }
    </style>
</head>
<body>
    <!-- Confetti elements (purely decorative CSS animation) -->
    <div class="confetti" style="left: 10%; animation-delay: 0s;"></div>
    <div class="confetti" style="left: 20%; animation-delay: 1s; width: 8px; height: 8px;"></div>
    <div class="confetti" style="left: 30%; animation-delay: 0.5s;"></div>
    <div class="confetti" style="left: 40%; animation-delay: 2s; width: 12px; height: 12px;"></div>
    <div class="confetti" style="left: 50%; animation-delay: 1.5s;"></div>
    <div class="confetti" style="left: 60%; animation-delay: 2.5s; width: 7px; height: 7px;"></div>
    <div class="confetti" style="left: 70%; animation-delay: 0.8s;"></div>
    <div class="confetti" style="left: 80%; animation-delay: 3s;"></div>
    <div class="confetti" style="left: 90%; animation-delay: 1.2s; width: 9px; height: 9px;"></div>
    <div class="confetti" style="left: 15%; animation-delay: 3.5s;"></div>
    <div class="confetti" style="left: 25%; animation-delay: 0.3s; width: 11px; height: 11px;"></div>
    <div class="confetti" style="left: 35%; animation-delay: 2.2s;"></div>
    <div class="confetti" style="left: 45%; animation-delay: 0.7s;"></div>
    <div class="confetti" style="left: 55%; animation-delay: 1.8s; width: 6px; height: 6px;"></div>
    <div class="confetti" style="left: 65%; animation-delay: 2.8s;"></div>
    <div class="confetti" style="left: 75%; animation-delay: 1.1s;"></div>
    <div class="confetti" style="left: 85%; animation-delay: 0.6s; width: 10px; height: 10px;"></div>

    <div class="card-container">
        <h1 class="header-text" id="birthdayHeader">ü•≥ Happy Birthday!üéÇ</h1>
        <p class="message-text" id="defaultMessage">
            Wishing you a day filled with joy, laughter, and all the things that make you happy!
            May your year ahead be even brighter than the last, full of exciting adventures,
            wonderful memories, and success in everything you do.
            <br><br>
            You are an amazing person, and we hope you have the most fantastic birthday ever!
        </p>
        <p class="generated-message-output" id="generatedMessageOutput" style="display: none;">Your personalized message will appear here!</p>
        <p class="signature-text">With love and best wishes,<br> <span id="signatureName">[Your Name/Group Name]</span></p>

        <!-- Message Generation Section -->
        <div class="message-generation-section">
            <label for="birthdayPersonName">To:</label>
            <input type="text" id="birthdayPersonName" placeholder="Enter birthday person's name (e.g., Ramya)">

            <label for="birthdayPersonDesc">‚úçÔ∏è Craft Your Personalized Message! ‚úçÔ∏è</label>
            <textarea id="birthdayPersonDesc" placeholder="Tell me about the birthday person (e.g., 'my best friend who loves hiking and cats', 'my dad who is a great cook and loves history'). These details will be included in the message."></textarea>
            
            <label for="senderName">Your Name:</label>
            <input type="text" id="senderName" placeholder="Your Name/Group Name">

            <button id="craftMessageBtn">‚úçÔ∏è Craft My Message! ‚úçÔ∏è</button>
            <button id="resetButton">Reset</button>
        </div>
    </div>

    <script>
        const birthdayHeader = document.getElementById('birthdayHeader');
        const defaultMessage = document.getElementById('defaultMessage');
        const generatedMessageOutput = document.getElementById('generatedMessageOutput');
        const birthdayPersonNameInput = document.getElementById('birthdayPersonName');
        const birthdayPersonDescInput = document.getElementById('birthdayPersonDesc');
        const senderNameInput = document.getElementById('senderName');
        const craftMessageBtn = document.getElementById('craftMessageBtn');
        const resetButton = document.getElementById('resetButton');
        const signatureNameSpan = document.getElementById('signatureName');

        /**
         * Updates the main birthday header with the name entered by the user.
         */
        function updateHeader() {
            const name = birthdayPersonNameInput.value.trim();
            if (name) {
                birthdayHeader.innerHTML = `ü•≥ Happy Birthday, RamyaüéÇ`;
            } else {
                birthdayHeader.innerHTML = `ü•≥ Happy Birthday!üéÇ`;
            }
        }

        /**
         * Updates the signature at the bottom of the card with the sender's name.
         */
        function updateSignature() {
            const name = senderNameInput.value.trim();
            if (name) {
                signatureNameSpan.textContent = name;
            } else {
                signatureNameSpan.textContent = '[Your Name/Group Name]';
            }
        }

        /**
         * Resets the card to its initial default state, clearing inputs and showing the default message.
         */
        function resetCard() {
            birthdayPersonNameInput.value = '';
            birthdayPersonDescInput.value = '';
            senderNameInput.value = '';
            updateHeader(); // Reset header to default
            updateSignature(); // Reset signature to default
            defaultMessage.style.display = 'block';
            generatedMessageOutput.style.display = 'none';
            generatedMessageOutput.textContent = "Your personalized message will appear here!";
        }

        /**
         * Crafts a personalized birthday message based on user inputs.
         * This function no longer uses an API and generates the message client-side.
         */
        function craftPersonalizedMessage() {
            const birthdayPersonName = birthdayPersonNameInput.value.trim();
            const description = birthdayPersonDescInput.value.trim();
            const senderName = senderNameInput.value.trim();

            if (!birthdayPersonName) {
                generatedMessageOutput.textContent = "Please enter the birthday person's name.";
                generatedMessageOutput.style.display = 'block';
                defaultMessage.style.display = 'none';
                return;
            }

            let message = `Happy Birthday, ${birthdayPersonName}!`;

            if (description) {
                // Incorporate the description into the message
                message += ` Wishing you a truly special day filled with joy and celebration. We know you're someone who ${description.toLowerCase()}. May your year ahead be filled with even more of what you love, new adventures, and wonderful memories.`;
            } else {
                // Fallback if no description is provided
                message += ` Wishing you a day filled with joy, laughter, and all the things that make you happy! May your year ahead be even brighter than the last, full of exciting adventures, wonderful memories, and success in everything you do.`;
            }
            
            message += ` You are an amazing person, and we hope you have the most fantastic birthday ever!`;

            generatedMessageOutput.textContent = message;
            generatedMessageOutput.style.display = 'block'; // Show crafted message
            defaultMessage.style.display = 'none'; // Hide default message
        }

        /**
         * Initializes event listeners for buttons and input fields.
         */
        function init() {
            craftMessageBtn.addEventListener('click', craftPersonalizedMessage);
            resetButton.addEventListener('click', resetCard);
            birthdayPersonNameInput.addEventListener('input', updateHeader);
            senderNameInput.addEventListener('input', updateSignature);

            // Initial setup on load to ensure default state is correctly displayed
            resetCard(); 
        }

        // Ensure the DOM is fully loaded before running initialization script
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
